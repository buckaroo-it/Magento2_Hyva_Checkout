<?php
/** @var \Buckaroo\HyvaCheckout\Magewire\Payment\Method\Applepay $magewire */
/** @var Magento\Framework\Escaper $escaper */

$hasConfig = !empty($magewire->config);
// Integration mode: 0 = inline/SDK mode, 1 = redirect mode
$isClientSide = $hasConfig && (
    ($magewire->config['integrationMode'] ?? 1) === 0 || 
    ($magewire->config['integrationMode'] ?? 1) === '0'
);
$jsSdkUrl = $hasConfig ? $magewire->getJsSdkUrl() : '';
?>
<div
    wire:id="checkout.payment.method.buckaroo_magento2_applepay"
    x-data="buckarooApplepay"
    data-has-config="<?= $hasConfig ? 'true' : 'false' ?>"
    data-is-client-side="<?= $isClientSide ? 'true' : 'false' ?>"
    data-js-sdk-url="<?= $escaper->escapeHtmlAttr($jsSdkUrl) ?>"
    data-payment-code="buckaroo_magento2_applepay"
    @place-order.window="handlePlaceOrder"
>
</div>
